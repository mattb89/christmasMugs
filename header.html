<!-- header.html -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<style>
  .mm-header-bar {
    padding: 8px 16px;
    display: flex;
    align-items: center;
    background: #1f2937; /* Dark grey */
    color: #fff;
  }

  .mm-title {
    font-size: 1.4rem;
    font-weight: 700;
    letter-spacing: 0.05rem;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .mm-title span {
    color: #0ea5e9;
  }

  .mm-hamburger {
    margin-left: auto;
    font-size: 1.8rem;
    cursor: pointer;
    padding: 4px 10px;
    border-radius: 6px;
  }

  .mm-hamburger:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  .mm-nav-item {
    padding: 16px;
    font-size: 1.2rem;
    color: #f1f1f1;
    text-decoration: none;
    display: block;
  }
  .mm-nav-item:hover {
    background: #0ea5e9 !important;
    color: #0f172a !important;
  }

  .google-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 18px;
    border-radius: 999px;
    border: 1px solid #dadce0;
    background: #ffffff;
    color: #3c4043;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    width: 100%;
  }
  .google-btn img {
    width: 18px;
    height: 18px;
  }

  .email-btn, .logout-btn {
    padding: 8px 12px;
    border-radius: 999px;
    border: 1px solid #4b5563;
    background: transparent;
    color: #f0f0f0;
    cursor: pointer;
    font-size: 0.85rem;
    width: 100%;
    margin-top: 8px;
  }
</style>

<!-- Top Header Bar -->
<div class="mm-header-bar w3-top">
  <div class="mm-title">üó∫Ô∏è <span>Mug Mapper</span></div>

  <div class="mm-hamburger" onclick="toggleMenu()">‚ò∞</div>
</div>

<!-- Mobile / Sidebar Menu -->
<nav id="mmMobileNav"
     class="w3-sidebar w3-bar-block w3-dark-grey w3-animate-left"
     style="display:none; width:260px; padding-top:60px;">

  <a href="index.html" class="mm-nav-item">Map</a>
  <a href="upload.html" class="mm-nav-item">Upload</a>
  <a href="popular.html" class="mm-nav-item">Popular</a>
  <a href="leaderboard.html" class="mm-nav-item">Leaderboard</a>

  <div style="padding:20px;">
    <div id="authUserLabel" style="color:#cbd5e1; margin-bottom:12px;">Not signed in</div>

    <button id="loginGoogleButton" class="google-btn">
      <img src="https://developers.google.com/identity/images/g-logo.png">
      Sign in with Google
    </button>

    <button id="loginEmailButton" class="email-btn">Email Sign-In</button>
    <button id="logoutButton" class="logout-btn" style="display:none;">Logout</button>
  </div>
</nav>

<script>
  // Mobile-friendly menu toggle
  function toggleMenu() {
    const nav = document.getElementById("mmMobileNav");
    nav.style.display = nav.style.display === "block" ? "none" : "block";
  }

  // Close the menu if user taps outside the sidebar
  document.addEventListener("click", function (e) {
    const nav = document.getElementById("mmMobileNav");
    const hamburger = document.querySelector(".mm-hamburger");

    if (!nav || !hamburger) return;

    // Clicked hamburger ‚Üí ignore
    if (hamburger.contains(e.target)) return;

    // Clicked inside nav ‚Üí ignore
    if (nav.contains(e.target)) return;

    // Otherwise ‚Üí close nav
    nav.style.display = "none";
  });
</script>
